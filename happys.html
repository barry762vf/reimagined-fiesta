<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yay! üéâ</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body {
    height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(270deg, #a1c4fd, #c2e9fb, #ff9a9e, #fad0c4);
    background-size: 800% 800%;
    animation: gradientBG 15s ease infinite;
    overflow: hidden;
  }
  @keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }
  .card {
    max-width: 450px;
    width: 90%;
    padding: 2rem;
    border-radius: 2rem;
    text-align: center;
    background: rgba(255,255,255,0.95);
    box-shadow: 0 0 30px rgba(0,0,0,0.2);
  }
  .btn { min-width: 100px; }
  @media (max-width:500px){ .btn { width: 45%; margin-bottom:10px; } }
  #gifPopup {
    position: fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(0);
    z-index:9999;
    pointer-events:none;
    transition: transform 0.5s ease;
  }
  #gifPopup.show { transform:translate(-50%,-50%) scale(1); }
</style>
</head>
<body>

<img id="gifPopup" src="" alt="popup gif" width="250">

<div class="card">
  <h1 class="mb-4">üéâ Yay! I'm so happy! üéâ</h1>
  <p class="mb-3">Which activity would you like to do?</p>
  <div class="d-flex gap-3 justify-content-center flex-wrap">
    <button class="btn btn-primary btn-lg" data-choice="Movie">Movie üé¨</button>
    <button class="btn btn-warning btn-lg" data-choice="Ice Cream">Ice Cream üç¶</button>
    <button class="btn btn-success btn-lg" data-choice="Picnic">Picnic üß∫</button>
  </div>
  <p id="message" class="mt-4 text-muted"></p>
</div>

<script>
  const buttons = document.querySelectorAll(".btn");
  const message = document.getElementById("message");
  const gifPopup = document.getElementById("gifPopup");

  // Your Formspree endpoint here
  const FORMSPREE_URL = "https://formspree.io/f/mldwlkzg";
  const FIELD_NAME = "activity";

  // Show GIF popup
  function showGif(url){
    gifPopup.src = url;
    gifPopup.classList.add("show");
    setTimeout(()=>{ gifPopup.classList.remove("show"); }, 2000);
  }

  // Submit data to Formspree
  async function submitAnswer(answer){
    try {
      const res = await fetch(FORMSPREE_URL, {
        method: "POST",
        headers: {"Content-Type":"application/json","Accept":"application/json"},
        body: JSON.stringify({[FIELD_NAME]: answer})
      });
      if(res.ok) console.log("Submitted:", answer);
      else console.error("Submission error:", res.statusText);
    } catch(err){
      console.error("Network error:", err);
    }
  }

  buttons.forEach(btn => {
    btn.addEventListener("click", async ()=>{
      const choice = btn.dataset.choice;
      // Submit silently
      await submitAnswer(choice);

      // Show message
      message.textContent = `You chose: ${choice}! üéâ`;

      // Show GIF per choice
      let gifUrl = "";
      if(choice==="Movie") gifUrl="https://media.giphy.com/media/l0HlBO7eyXzSZkJri/giphy.gif";
      if(choice==="Ice Cream") gifUrl="https://media.giphy.com/media/3o6Zt8MgUuvSbkZYWc/giphy.gif";
      if(choice==="Picnic") gifUrl="https://media.giphy.com/media/xT9IgG50Fb7Mi0prBC/giphy.gif";
      showGif(gifUrl);

      // **No navigation**, stays on page so you see the message and GIF
    });
  });
</script>

</body>
</html>
